<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta http-equiv="imagetoolbar" content="no">
  <link rel="icon" href="/srv/img/favicon.gif" type="image/gif">

<!--additional header info goes here-->
  <meta name="keywords" content="svg, colour picker object">
  <meta name="description" content="colour picker object for svg applications">
  <style type="text/css">
body {background-image:url('http://www.carto.net/srv/img/backmap.gif'); background-repeat:no-repeat; background-color:#ffef95; font-family:Arial,Helvetica,Geneva,sans-serif;color:#B42D25; }

/*B42D25 ~ rgb(180,44,37) bordeauxrot*/
/*161682 ~ rgb(23,23,130) dklblau */
/*168C16 ~ rgb(23,140,23) dklgruen */
/*ffef95 ~ rgb(255,239,149) bg-gelb */

a {text-decoration:underline; color:#168C16; background: transparent}

h2 a {text-decoration:none;}

.inpage { color:#168C16;}
.expage { color:#161682;}

a:visited {text-decoration:none;}


/*
a.inpage:visited {color:#6C6F12; background: transparent}
a.expage:visited {color:#6C125D; background: transparent}
*/

@media screen {  /* hide from IE3 */
a[href]:hover { background: #ffa }
}




.lde {background-image:url('http://www.carto.net/srv/img/back_l_de.gif'); }
.lfr {background-image:url('http://www.carto.net/srv/img/back_l_fr.gif'); }
.len {background-image:url('http://www.carto.net/srv/img/back_l_en.gif'); }
.les {background-image:url('http://www.carto.net/srv/img/back_l_es.gif'); }

.higher { font-weight:bold; } /*TO BE REMOVED*/
.bigger { font-weight:bold; }
.smaller { font-size:small;}

.chrihelptd { background-color:#FFEF95; } /*tabellen hintergrund in christans hilfen sollet allgem hintergrund entsprechen*/

.newspostit { background-color:#f6ffd8;}


p,h1,h2,h3,h4,ul,ol,li,div,td,th,address,blockquote,b,i,.keepnormfontcolor { font-family:Arial,Helvetica,Geneva,sans-serif; color:#B42D25 }
tt,pre { font-family:"Courier New",Courier,monospace; color:#B42D25; }


.info { border:1px solid; background-color:#eeeeee; padding:40px; margin:0px; }
.info tt, .info pre { font-family:"Courier New",Courier,monospace; color:blue; }

  </style>
  <title>carto:net - 

 SVG colourPicker Object
</title>
</head>
<body><a name="top"></a>

<table width="100%">
	<tr>
		<td align="left">
			<img src="http://www.carto.net/srv/img/navig.gif" alt="" usemap="#navig" border="0" width="600" height="111">
		</td>
	</tr>
</table>
<!-- ONLY navig.gif IMG NEEDED NORMALLY -->
<map name="navig">
  <area shape="rect" coords="226,14,585,66" href="http://www.carto.net/" target="_top" alt="main page - page initiale - hauptseite - página principal">
  <area shape="rect" coords="272,77,433,106" href="http://www.carto.net/projects/" alt="projects - projets - projekte - proyectos">
  <area shape="rect" coords="454,77,598,106" href="http://www.carto.net/authors/" alt="authors - auteurs - autoren - autores">
  <area shape="rect" coords="130,77,253,106" href="http://www.carto.net/papers/" alt="papers - exposés - berichte - papeles">
  <area shape="rect" coords="25,77,109,106" href="http://www.carto.net/help/" alt="help - aide - hilfe - ayuda">
</map>


<div id="adBarContainer" style="margin-left:13px;float:right;right:8px;width:160px;height:600px;border:0px solid red;">
<script type="text/javascript"><!--
google_ad_client = "pub-6049981187637171";
	/* 160x600, Carto.net Standard */
	google_ad_slot = "4746507232";
	google_ad_width = 160;
	google_ad_height = 600;
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</div>






  <h2 class="sitemap"><a href="/">carto</a><span class="expage">:</span><a href="/papers/">papers</a><span class="expage">:</span><a href="/papers/svg/">svg</a><span class="expage">:</span><a href="/papers/svg/samples/">examples</a><span class="expage">:</span><a href="/papers/svg/samples/#iact">interactivity and svg gui</a><span class="expage">:</span>colourPicker object</h2>

<h2>SVG colourPicker Object, Version 1.0 (2006-10-26), see version history at the end of the page</h2>

<p>This SVG colourPicker object should assist authors of SVG webapplications in creating user interfaces.</p>

<p>Why should you create SVG only web applications? Advantages of SVG only applications are flexiblity (you can control every single aspect of a SVG GUI element) and scalability (in SVG your userinterface elements are scalable as well). If you need a pixel-precise, scalable application, HTML is not very well suited, since HTML form elements don't scale well. SVG also potentially allows more sophisticated GUI elements than HTML provides, such as slider, dial knobs, complex colourpickers, etc. Disadvantages include complexity (more complex than using HTML form elements) and a potentially bad user experience, if your SVG GUI elements behave different than native GUI elements of the operating system the user is used to. Some browsers still don't support SVG to HTML or HTML to SVG communication. In that case you are sort of locked into doing everything with SVG in order to reach the broadest audience. Another advantage of creating SVG only applications is, that your applications also work in SVG viewers outside the webbrowser (e.g. Batik, eSVG or SVG embedded applications).</p>

<p>See an <a href="index.svg">example</a> of the SVG colourPicker object. The scripts had been tested in Adobe SVG viewer version 3, version 6, MozillaSVG, Batik and Opera9.</p>
<p>The SVG colourPicker object is free to use. If you do any substantial improvements, please send back your improvements to the author. The GUI elements of carto.net are licensed under the terms of the LGPL license and you need to distribute the license with your code. Additionally, you should create a link to carto.net in your project's "about page" or impressum. If you plan to use the GUI elements in a commercial product, please check back with the author of the GUI elements to investigate arrangements. The original URL for the colourPicker object is http://www.carto.net/papers/svg/gui/colourPicker/.</p>
      <div class="info">
        <h3>Documentation</h3>
        <h4>Requirements</h4>
<p>To use the colourPicker object, your project needs to meet the following requirements:</p>
<ul>
	<li>it is required that the svg root element has a <tt>viewBox</tt> (e.g. <tt>viewBox="0 0 1024 768"</tt>), <tt>width</tt> and <tt>height</tt> attribute set.</li>
	<li>you need to link to the following scripts in your SVG file header to use the colourPicker: <a href="../../resources/helper_functions.js">helper_functions.js</a>, <a href="../../resources/mapApp.js">mapApp.js</a>, <a href="colourPicker.js">colourPicker.js</a> and <a href="../slider/slider.js">slider.js</a>. For the <a href="index.svg">example</a> to run, you'll also need the <a href="../button/button.js">button.js</a> and <a href="../../resources/timer.js">timer.js</a> scripts; please note, that not all of the functions in these files are needed. The depencies to functions in the file "helper_functions.js" are listed below.</li>
	<li>you need to create an svg group element with a unique id in an appropriate position of your document tree to hold the graphics of the colourPicker object (e.g. <tt>&lt;g id="colourPicker" /&gt;</tt>)</li>
	<li>it is recommended to place a background rectangle behind your SVG application to receive events on the root element level, e.g. loosing focus and calling the callback function when clicking outside of the sliders/colourPicker</li>
	<li>you need to initialize the colourPicker object as described below in the constructor section</li>
</ul>
       <h4>Features</h4>
       <ul>
       	<li>HSV colour picker, hue slider is compulsary</li>
       	<li>optional value and saturation sliders</li>
       	<li>optional transparency/opacity slider</li>
       	<li>hue range can be restricted</li>
       	<li>colour picker displays RGBA and HSVA values</li>
       	<li>stroke and fill colours can be set individually</li>
       	<li>colour picker can be resized and moved</li>
       	<li>colour values can be queried and set from other js functions</li>
       </ul>
       <h4>Dependencies on external functions</h4>
        <ol><li><a href="colourPicker.js">colourPicker.js</a>:
        	<ul><li>all of the objects and functions in this file are necessary</li></ul>
        </li>
		<li><a href="../slider/slider.js">slider.js</a>:
        	<ul><li>all of the objects and functions in this file are necessary</li></ul>
        </li>
        </li>
        	<li><a href="../../resources/mapApp.js">mapApp.js</a>:
        		<ul><li>all of the objects and functions in this file are necessary</li></ul>
        	</li>
        	<li><a href="../../resources/helper_functions.js">helper_functions.js</a>:
        	<ul>
        		<li>all the global variables at the top of the file</li>
        		<li>function <tt>getTransformToRootElement()</tt></li>
        		<li>function <tt>leftOfTest()</tt></li>
        		<li>function <tt>intersect2lines()</tt></li>
        		<li>function <tt>toPolarDist()</tt></li>
        		<li>function <tt>toPolarDir()</tt></li>
        		<li>function <tt>rgb2hsv()</tt></li>
        		<li>function <tt>hsv2rgb()</tt></li>
         	</ul>
        </li>
        </ol>
        <h4>Constructor</h4>
        <p>The following constructor function creates the colourPicker:</p>
        <p><tt> var myColourPicker = colourPicker(id,parentNode,x,y,width,height,bgstyles,textstyles,sliderSymbId,satSliderVisible,valSliderVisible,alphaSliderVisible,colValTextVisible,fillVisible,strokeVisible,startHue,endHue,nrStopVals,fillStartColor,strokeStartColor,functionToCall);</tt></p>
	<p>Example:<br/>
	<tt>
//first some colour picker styles<br/>
var cpBgStyles = {"fill":"gainsboro"};<br/>
var cpTextStyles = {"font-family":"Arial,Helvetica","font-size":12,"fill":"dimgray"};<br/>
myMapApp.colourPickers["myColourPicker1"] = new colourPicker("colourPicker1","colourPickers",200,400,300,120,cpBgStyles,cpTextStyles,"sliderSymbol",true,true,true,true,true,true,0,360,7,"0,255,0,1","0,0,0,0.7",undefined);</tt></p>
		<p>The arguments are the following:</p>
		<ol>
			<li><tt>id (String)</tt>:<br />id of the colourPicker</li>
			<li><tt>parentNode (String or node reference)</tt>:<br />group id or node reference to the parent group that will contain the colourPicker geometry</li>
			<li><tt>x (number, float (in viewBox coordinates))</tt>:<br />the left side of the colour picker box</li>
			<li><tt>y (number, float (in viewBox coordinates))</tt>:<br />the top of the colour picker box</li>
			<li><tt>width (number, float (in viewBox coordinates))</tt>:<br />the width of the colour picker box</li>
			<li><tt>height (number, float (in viewBox coordinates))</tt>:<br />the height of the colour picker box</li>
			<li><tt>bgStyles (Array of literals with presentation attributes)</tt>:<br />an array literal containing the presentation attributes of the colourPicker background box; could include CSS classes; example: <tt>var cpBgStyles = {"fill":"gainsboro"};</tt></li>
			<li><tt>textStyles (Array of literals with presentation attributes)</tt>:<br />an array literal containing the presentation attributes of the colourPicker text elements; could include CSS classes; should at least include a "font-size" attribute; example: <tt>var cpTextStyles = {"font-family":"Arial,Helvetica","font-size":12,"fill":"dimgray"};</tt></li>
			<li><tt>sliderSymbId (string)</tt>:<br />the id (string) of the slider symbol</li>
			<li><tt>satSliderVisible (boolean (true|false))</tt>:<br />determines whether the saturation slider will be visible</li>
			<li><tt>valSliderVisible (boolean (true|false))</tt>:<br />determines whether the value slider will be visible</li>
			<li><tt>alphaSliderVisible (boolean (true|false))</tt>:<br />determines whether the alpha/transparency/opacity slider will be visible</li>
			<li><tt>colValTextVisible (boolean (true|false))</tt>:<br />determines whether the text indicating the current RGBA and HSV color values will be visible</li>
			<li><tt>fillVisible (boolean (true|false))</tt>:<br />determines whether the rectangle representing the fill colour should be visible</li>
			<li><tt>strokeVisible (boolean (true|false))</tt>:<br />determines whether the rectangle representing the stroke colour should be visible</li>
			<li><tt>startHue (number, float)</tt>:<br />a value between 0 and 360 representing the start hue value in degrees of the hue slider</li>
			<li><tt>endHue (number, float)</tt>:<br />a value between 0 and 360 representing the end hue value in degrees of the hue slider, the endHue value should be higher than the startHue value</li>
			<li><tt>nrStopVals (number, integer)</tt>:<br />the number of stop values for the hue gradient definition, a value of 5 means 7 stop value: the start stop value, 5 in between stop values and the end stop value, the stop values are linearly interpolated between the startHue and endHue value</li>
			<li><tt>fillStartColor (string)</tt>:<br />a string containing the RGBA start values for the fill color, should be comma separated, the color values are integers between 0 and 255, the alpha value should be between 0 and 1; example: <tt>"0,255,0,1"</tt></li>
			<li><tt>strokeStartColor (string)</tt>:<br />a string containing the RGBA start values for the stroke color, should be comma separated, the color values are integers between 0 and 255, the alpha value should be between 0 and 1; example: <tt>"0,255,0,1"</tt></li>
			<li><tt>functionToCall (function, object or undefined)</tt>:<br />callBack function that will be fired after a color was changed: the return values are <tt>id</tt> of the colourPicker, and <tt>values</tt>, an object literal containing the values of the colourPicker. Values can be extracted like the following: <tt>values.fill.green</tt> or <tt>values.stroke.alpha</tt> or <tt>values.stroke.hue</tt>.</li>
		</ol>
		<p>Note, if you want to change some appearance issues (e.g. positioning of elements), you can do so in the method <tt>.createColourpicker</tt>. Just be sure not to introduce any logical/functionality changes, only appearance changes.</p>
        <h4>Methods</h4>
        <ul>
		<li><tt>.getValues()</tt>:<br />returns the current values of the colourPicker. Values are returned in an object literal structure. Values can be extracted like the following: <tt>values.fill.green</tt> or <tt>values.stroke.alpha</tt> or <tt>values.stroke.hue</tt>.</li>
		<li><tt>.setRGBAColour(colourType,red,green,blue,alpha,fireFunction)</tt>:<br />where <tt>colourType</tt> is of type <tt>string</tt> and can either be <tt>fill</tt> or <tt>stroke</tt>, <tt>red</tt> is of type <tt>number</tt> (integer, range 0-255), <tt>green</tt> is of type <tt>number</tt> (integer, range 0-255), <tt>blue</tt> is of type <tt>number</tt> (integer, range 0-255), <tt>alpha</tt> is of type <tt>number</tt> (float, range 0-1) and <tt>fireFunction</tt> is of type <tt>boolean</tt> (true|false) and indicates of the associated callBack function should be fired after changing the colour values.</li>
		<li><tt>.hide()</tt>:<br />hides the colourPicker by setting the <tt>display</tt> attribute of the group containing the colourPicker to <tt>none</tt></li>
		<li><tt>.show()</tt>:<br />shows the colourPicker by setting the <tt>display</tt> attribute of the group containing the colourPicker to <tt>inherit</tt></li>
		<li><tt>.moveTo(x,y)</tt>:<br />moves the colourPicker to a different position. The <tt>x</tt> and <tt>y</tt> parameters are of type <tt>number</tt> (float) in viewBox coordinates.</li>
		<li><tt>.resize(width,height)</tt>:<br />resizes the colourPicker. The <tt>width</tt> and <tt>height</tt> parameters are of type <tt>number</tt> (float) in viewBox coordinates. Please make sure that the width and height values aren't too small, or you'll get very strange effects.</li>
         </ul>
        <h4>Version history</h4>
        <ul>
        	<li>1.0 (2006-02-26): initial version</li>
        </ul>
    </div>
<br><br><hr>
<table width="100%">
<tr>
<td align="left">Last modified: 

Thursday, 26-Oct-2006 22:28:42 CEST
<br>&copy; <a href="http://www.carto.net/#en_w3">carto<span class="expage">:</span>net</a> (<a href="http://www.carto.net/neumann/">andreas neumann</a> &amp <a href="/andre.mw/">andr&eacute; m. winter</a>)

<br>original URL for reference: http://www.carto.net/papers/svg/gui/colourPicker/index.shtml</td>
<td align="right" valign="top"><a class="expage" href="javascript:location.href='http://del.icio.us/post?v=3&amp;url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title)"><img src="http://images.del.icio.us/static/img/delicious.med.gif" width="16" height="16" align="bottom" alt="del.icio.us"/>&nbsp;Add this page to del.icio.us</a></td>
</tr></table>
</body></html>

