<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta http-equiv="imagetoolbar" content="no">
  <link rel="icon" href="/srv/img/favicon.gif" type="image/gif">

<!--additional header info goes here-->
  <meta name="keywords" content="svg, selectionlist, dropdown box, combo box, combobox">
  <meta name="description" content="selectionlist for svg applications">
  <style type="text/css">
body {background-image:url('http://www.carto.net/srv/img/backmap.gif'); background-repeat:no-repeat; background-color:#ffef95; font-family:Arial,Helvetica,Geneva,sans-serif;color:#B42D25; }

/*B42D25 ~ rgb(180,44,37) bordeauxrot*/
/*161682 ~ rgb(23,23,130) dklblau */
/*168C16 ~ rgb(23,140,23) dklgruen */
/*ffef95 ~ rgb(255,239,149) bg-gelb */

a {text-decoration:underline; color:#168C16; background: transparent}

h2 a {text-decoration:none;}

.inpage { color:#168C16;}
.expage { color:#161682;}

a:visited {text-decoration:none;}


/*
a.inpage:visited {color:#6C6F12; background: transparent}
a.expage:visited {color:#6C125D; background: transparent}
*/

@media screen {  /* hide from IE3 */
a[href]:hover { background: #ffa }
}




.lde {background-image:url('http://www.carto.net/srv/img/back_l_de.gif'); }
.lfr {background-image:url('http://www.carto.net/srv/img/back_l_fr.gif'); }
.len {background-image:url('http://www.carto.net/srv/img/back_l_en.gif'); }
.les {background-image:url('http://www.carto.net/srv/img/back_l_es.gif'); }

.higher { font-weight:bold; } /*TO BE REMOVED*/
.bigger { font-weight:bold; }
.smaller { font-size:small;}

.chrihelptd { background-color:#FFEF95; } /*tabellen hintergrund in christans hilfen sollet allgem hintergrund entsprechen*/

.newspostit { background-color:#f6ffd8;}


p,h1,h2,h3,h4,ul,ol,li,div,td,th,address,blockquote,b,i,.keepnormfontcolor { font-family:Arial,Helvetica,Geneva,sans-serif; color:#B42D25 }
tt,pre { font-family:"Courier New",Courier,monospace; color:#B42D25; }


.info { border:1px solid; background-color:#eeeeee; padding:40px; margin:0px; }
.info tt, .info pre { font-family:"Courier New",Courier,monospace; color:blue; }

  </style>
  <title>carto:net - 

 SVG SelectionList
</title>
</head>
<body><a name="top"></a>

<table width="100%">
	<tr>
		<td align="left">
			<img src="http://www.carto.net/srv/img/navig.gif" alt="" usemap="#navig" border="0" width="600" height="111">
		</td>
	</tr>
</table>
<!-- ONLY navig.gif IMG NEEDED NORMALLY -->
<map name="navig">
  <area shape="rect" coords="226,14,585,66" href="http://www.carto.net/" target="_top" alt="main page - page initiale - hauptseite - página principal">
  <area shape="rect" coords="272,77,433,106" href="http://www.carto.net/projects/" alt="projects - projets - projekte - proyectos">
  <area shape="rect" coords="454,77,598,106" href="http://www.carto.net/authors/" alt="authors - auteurs - autoren - autores">
  <area shape="rect" coords="130,77,253,106" href="http://www.carto.net/papers/" alt="papers - exposés - berichte - papeles">
  <area shape="rect" coords="25,77,109,106" href="http://www.carto.net/help/" alt="help - aide - hilfe - ayuda">
</map>


<div id="adBarContainer" style="margin-left:13px;float:right;right:8px;width:160px;height:600px;border:0px solid red;">
<script type="text/javascript"><!--
google_ad_client = "pub-6049981187637171";
	/* 160x600, Carto.net Standard */
	google_ad_slot = "4746507232";
	google_ad_width = 160;
	google_ad_height = 600;
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</div>






  <h2 class="sitemap"><a href="/">carto</a><span class="expage">:</span><a href="/papers/">papers</a><span class="expage">:</span><a href="/papers/svg/">svg</a><span class="expage">:</span><a href="/papers/svg/samples/">examples</a><span class="expage">:</span><a href="/papers/svg/samples/#iact">interactivity and svg gui</a><span class="expage">:</span>selectionlist</h2>

<h2>SVG SelectionList, Version 1.4.1, 2007-04-16, (see history at the end of the page)</h2>

<p>This SVG selectionList object should assist authors of SVG webapplications in creating user interfaces.</p>

<p>Why should you create SVG only web applications? Advantages of SVG only applications are flexiblity (you can control every single aspect of a SVG GUI element) and scalability (in SVG your userinterface elements are scalable as well). If you need a pixel-precise, scalable application, HTML is not very well suited, since HTML form elements don't scale well. SVG also potentially allows more sophisticated GUI elements than HTML provides, such as slider, dial knobs, complex colourpickers, etc. Disadvantages include complexity (more complex than using HTML form elements) and a potentially bad user experience, if your SVG GUI elements behave different than native GUI elements of the operating system the user is used to. Some browsers still don't support SVG to HTML or HTML to SVG communication. In that case you are sort of locked into doing everything with SVG in order to reach the broadest audience. Another advantage of creating SVG only applications is, that your applications also work in SVG viewers outside the webbrowser (e.g. Batik, eSVG or SVG embedded applications).</p>

<p>See an <a href="index.svg">example</a> of the SVG selectionList object. The scripts had been tested in Adobe SVG viewer version 3, version 6, Mozilla SVG, Opera9 and Batik.</p>
<p>The selectionList is free to use. If you do any substantial improvements, please send back your improvements to the author. The GUI elements of carto.net are licensed under the terms of the LGPL license and you need to distribute the license with your code. Additionally, you should create a link to carto.net in your project's "about page" or impressum. If you plan to use the GUI elements in a commercial product, please check back with the author of the GUI elements to investigate arrangements. The original URL for the selectionList is http://www.carto.net/papers/svg/gui/selectionlist/.</p>
      <div class="info">
        <h3>Documentation</h3>
        <h4>Requirements</h4>
<p>To use the selectionList, your project needs to meet the following requirements:</p>
<ul>
	<li>the svg root element needs to have a viewBox attribute set (e.g. <tt>viewBox="0 0 1024 768"</tt>)</li>
	<li>you need to link to the following scripts in your SVG header to use the selectionList: <a href="../../resources/mapApp.js">mapApp.js</a>, <a href="../../resources/helper_functions.js">helper_functions.js</a>, <a href="../../resources/timer.js">timer.js</a> and <a href="selectionList.js">selectionList.js</a>; please note, that not all of the functions in these files are needed. The depencies to functions in the file "helper_functions.js" are listed below.</li>
	<li>you need to include the global variable "myMapApp" of type "mapApp" into one of your js files, (e.g. <tt>var myMapApp = new mapApp();</tt>)</li>
	<li>you need to create an empty svg group element with a unique id in an appropriate position of your document tree to hold the graphics of the selectionList (e.g. <tt>&lt;g id="mySelectionList" /&gt;</tt>)</li>
	<li>it is recommended to place a background rectangle behind your SVG application to receive events on the root element level, e.g. folding the selectionList when clicking outside of the selectionList</li>
	<li>you need to initialize the selectionList as described below</li>
</ul>
       <h4>Features</h4>
       <ul>
       	<li>supports large lists</li>
       	<li>supports keyboard input to quickly navigate in longer lists</li>
       	<li>click in scrollbar jumps directly to position in the list, no need for scrolling</li>
       	<li>list folds automatically if the user clicks outside the selectionlist, given that an element exists in the background, e.g. a background rectangle</li>
       	<li>selectionList can open to the top or the bottom of the initial box</li>
       	<li>selectionList is completely and individually stylable using arrays of literals containing presentation attributes</li>
       </ul>
       <h4>Dependencies on external functions</h4>
        <ol><li><a href="selectionList.js">selectionList.js</a>:
        	<ul><li>all of the objects and functions in this file are necessary</li></ul>
        </li>
        <li><a href="../../resources/mapApp.js">mapApp.js</a>:
        	<ul><li>all of the objects and functions in this file are necessary</li></ul>
        </li>
        	<li><a href="../../resources/timer.js">timer.js</a>:
        		<ul><li>all of the objects and functions in this file are necessary</li></ul>
        	</li>
        	<li><a href="../../resources/helper_functions.js">helper_functions.js</a>:
        	<ul>
        		<li>all the global variables at the top of the file</li>
        	</ul>
        </li>
        </ol>
        <h4>Constructor</h4>
        <p>The following constructor function creates the selectionList:</p>
        <p><tt>var mySelectionList = new selectionList(id,parentNode,elementsArray,width,xOffset,yOffset,cellHeight,textPadding,heightNrElements,textStyles,boxStyles,scrollbarStyles,smallrectStyles,highlightStyles,triangleStyles,preSelect,openAbove,putOnTopOfParent,functionToCall);</tt><br/>
	Example:<br/>
	<tt>//first a few styling parameters:<br />
var selBoxCellHeight = 16;<br />
var selBoxTextpadding = 3;<br />
var selBoxtextStyles = {"font-family":"Arial,Helvetica","font-size":11,"fill":"dimgray"};<br />
var selBoxStyles = {"stroke":"dimgray","stroke-width":1,"fill":"white"};<br />
var selBoxScrollbarStyles = {"stroke":"dimgray","stroke-width":1,"fill":"whitesmoke"};<br />
var selBoxSmallrectStyles = {"stroke":"dimgray","stroke-width":1,"fill":"lightgray"};<br />
var selBoxHighlightStyles = {"fill":"dimgray","fill-opacity":0.3};<br />
var selBoxTriangleStyles = {"fill":"dimgray"};<br />
//now the creation of the selectionlist<br />
var selFruits = new selectionList("fruits","fruits",fruits,170,50,50,selBoxCellHeight,selBoxTextpadding,7,selBoxtextStyles,selBoxStyles,selBoxScrollbarStyles,selBoxSmallrectStyles,selBoxHighlightStyles,selBoxTriangleStyles,3,false,true,myFruitsResult);</tt></p>
		<p>The arguments are the following:</p>
		<ol>
			<li><tt>id (String)</tt>:<br />unique id that identifies the selectionList</li>
			<li><tt>parentNode (String or object)</tt>:<br />an existing group id or node reference (<tt>&lt;g/&gt;</tt> or <tt>&lt;svg/&gt;</tt> element) where the new selectionList object will be appended. This group is preferably empty, but does not have to be. If the group id or node reference does not exist, the script creates a new empty parent group and appends it to the root element.</li>
			<li><tt>elementsArray (Array of Strings)</tt>:<br />array of values to be selected in the selectionList</li>
			<li><tt>width (number, in viewBox coordinate system)</tt>:<br />overall width of the selectionList</li>
			<li><tt>xOffset (number, in viewBox coordinate system)</tt>:<br />left side of the selectionList rectangle</li>
			<li><tt>yOffset (number, in viewBox coordinate system)</tt>:<br />top of the selectionList rectangle</li>
			<li><tt>cellHeight (number, in viewBox coordinate system)</tt>:<br />the height of the selectionList and a row in the unfolded list</li>
			<li><tt>textPadding (number, in viewBox coordinate system)</tt>:<br />the horizontal text padding, offset from the right of the rectangle of the textbox</li>
			<li><tt>heightNrElements (number, integer)</tt>:<br />height of unfolded list in number of elements</li>
			<li><tt>textStyles (array of literals with presentation attributes)</tt>:<br />an array literal containing the presentation attributes of the selection box texts; could include CSS classes; should at least include a "font-size" attribute; example: <tt>var selBoxtextStyles = {"font-family":"Arial,Helvetica","font-size":11,"fill":"dimgray"};</tt></li>
			<li><tt>boxStyles (array of literals with presentation attributes)</tt>:<br />an array literal containing the presentation attributes of the selection box; could include CSS classes; should at least include a "fill", "stroke" and "stroke-width" attribute; example: <tt>var selBoxStyles = {"stroke":"dimgray","stroke-width":1,"fill":"white"};</tt></li>
			<li><tt>scrollbarStyles (array of literals with presentation attributes)</tt>:<br />an array literal containing the presentation attributes of the scrollbar; could include CSS classes; example: <tt>var selBoxScrollbarStyles = {"stroke":"dimgray","stroke-width":1,"fill":"whitesmoke"};</tt></li>
			<li><tt>selBoxSmallrectStyles (array of literals with presentation attributes)</tt>:<br />an array literal containing the presentation attributes of the small rectangles (the ones containing the triangles); could include CSS classes; example: <tt>var selBoxSmallrectStyles = {"stroke":"dimgray","stroke-width":1,"fill":"lightgray"};</tt></li>
			<li><tt>highlightStyles (array of literals with presentation attributes)</tt>:<br />an array literal containing the presentation attributes of the highlight rectangles; could include CSS classes; example: <tt>var selBoxHighlightStyles = {"fill":"dimgray","fill-opacity":0.3};</tt></li>
			<li><tt>selBoxTriangleStyles (array of literals with presentation attributes)</tt>:<br />an array literal containing the presentation attributes of the triangle (where the user clicks for unfolding or scrolling the list); could include CSS classes; example: <tt>var selBoxTriangleStyles = {"fill":"dimgray"};</tt></li>
			<li><tt>preSelect (number, integer, zero-based)</tt>:<br />index of preselected element, zero based</li>
			<li><tt>openAbove (boolean, true|false)</tt>:<br />defines if the box opens to the bottom (false) or the top (true)</li>
			<li><tt>putOnTopOfParent (boolean, true|false)</tt>:<br />defines if the box will be appended to the top of it's parent group on activation. This ensures that the selectionList always opens on top of other elements in the same group. Set to true if you want this behaviour, false if you don't.</li>
			<li><tt>functionToCall (function or object or undefined)</tt>:<br />callBackFunction: you can pass a function, object or undefined. In the case of function and object the parameters returned are: the groupId of the selectionList (string), the index nr selected (number, integer), the value selected (string). In case of an object, it calls the method .getSelectionListVal(). In case of an undefined value, no callBack function is executed. The callBack function is executed with a slight delay (200ms) to allow the selectionlist to unfold before executing the callback function.</li>
		</ol>
        <h4>Methods</h4>
        <ul>
        	<li><tt>.getCurrentSelectionElement()</tt>:<br />returns the active selection value (string)</li>
        	<li><tt>.getCurrentSelectionIndex()</tt>:<br />returns the active selection value (number, integer)</li>
			<li><tt>.elementExists(elementName)</tt>:<br />checks if an element exists; returns -1 if it does not exist, or the index where the element exists if the test is positive</li>
			<li><tt>.selectElementByName(elementName,fireFunction)</tt>:<br />selects the given element if it exists; parameters are the element name (string) and a boolean value whether we should execute the callBack function or not after selecting the element; returns -1 if it does not exist, or the index where the element exists if the test is positive</li>
			<li><tt>.selectElementByPosition(position,fireFunction)</tt>:<br />selects the given element by position if it exists; parameters are the element index (number, integer) and a boolean value whether we should execute the callBack function or not after selecting the element; returns -1 if it does not exist, or the index where the element exists if the test is positive</li>
			<li><tt>.sortList(direction)</tt>:<br />sorts the list alphabetically by direction; parameter is the direction ('asc' or 'desc'); the return value is the direction</li>
			<li><tt>.deleteElement(elementName)</tt>:<br />deletes the element with the given value; parameter is the element name/value (string); the return value is the position of the element it deleted, or -1 if the element did not exist</li>
			<li><tt>.addElementAtPosition(elementName,position)</tt>:<br />adds an element with the given value; parameter are the element name/value (string) and the position index (number, integer); the return value is the position of the element it added</li>
			<li><tt>.resize(width)</tt>:<br />resizes the selectionList to a new width, parameter is of type number in viewBox coordinates</li>
			<li><tt>.moveTo(x,y)</tt>:<br />moves the selectionList to a new position, both parameters are of type number in viewBox coordinates</li>
			<li><tt>.removeSelectionList()</tt>:<br />removes all geometry elements of the selectionList and leaves an empty group; sets the property <tt>.exists</tt> to false</li>
        </ul>
        <h4>Useful Properties</h4>
        <ul>
			<li><tt>.elementsArray</tt>:<br />the array containing the values of a selectionlist. If you want to exchange the values of a selectionlist, simply state <tt>mySelectionList.elementsArray = newArray;</tt>. Don't forget to call the method <tt>mySelectionList.selectElementByPosition(0,false)</tt> to make sure that it displays a valid value of you new array, after you changed the <tt>elementsArray()</tt> property</li>
			<li><tt>.id</tt>:<br />type string; the id of the selectionlist</li>
			<li><tt>.heightNrElements</tt>:<br />type number (integer); the height of the unfolded selectionlist in number of elements</li>
			<li><tt>.openAbove</tt>:<br />type boolean (true|false); indicates whether the list opens to the bottom (false) or to the top (true), you can set this property to open it to above, next time the user unfolds the list</li>
		</ul>
        <h4>Version history</h4>
        <ul>
        	<li>0.99 (2004-10-26): initial version</li>
        	<li>1.0 (2005-09-15): allow undefined values in callback function for selectionlists that need not react on changes (suggestion by Bruce Rindahl); allow selectionlist to be placed in a transformed group; now also works in MozillaSVG (due to changes in mapApp.js)</li>
        	<li>1.1 (2005-09-15): removed "string" option in functionToCall (not important any more). function and object should be good enough; timer object from http://www.codingforums.com/showthread.php?s=&threadid=10531 is now used; attention: you need to link this script as well! due to the new timer object we can now also mouse down and scroll more than one entry until we mouseup again, previously one had to click for forwarding each individual element</li>
        	<li>1.2 (2005-10-24): removed style attributes and replaced them with individual XML attributes, initial tests on Opera 9, it seems to work except for the scrolling - due to a mouse-move event bug</li>
        	<li>1.2.1 (2006-02-07): upgraded the documentation and fixed documentation errors</li>
        	<li>1.2.2 (2006-02-16): added option to open selectionList to the top of the original box, this is useful for layouts where the selectionList is at the bottom of a page; added option to always put the selectionList on the top of it's parent group after activation in order to force the geometry to be on the top of all other geometry within the same group; improved background rectangle: these are now two rectangles: one on the bottom for the fill, one on the top for stroking; tested with Opera 9 TP2, works now fine, except keyboard input</li>
		<li>1.2.3 (2006-02-21): removed dependency on replaceSpecialChars (in file helper_functions.js) as this is not really needed in a true utf8 environment; improved key event handling: People can now enter more than one key (within one second for each consequent key) and the list will jump to entries that match the keys; key events now also work in opera 9+ - however they sometimes collide with keyboard shortcuts.</li>
		<li>1.3 (2006-03-11): changed parameters of constructor (styling system): now an array of literals containing presentation attributes. Styling is not hardcoded in selectionList.js anymore. Added check for number of arguments.</li>
		<li>1.4 (2006-07-18): added additional constructor parameter <tt>parentNode</tt>, changed constructor parameter <tt>groupId</tt> to <tt>id</tt>, added methods <tt>.resize(width)</tt> and <tt>.moveTo(x,y)</tt>, improved scrolling (now also possible outside of the scrollbar, once the mouse is down)
        <li>1.4.1 (2007-04-16): corrected a bug where the closing of the selectionList failed if the id had a "_" underscore in its id, due to split error</li>
        </ul>
    </div>
<br><br><hr>
<table width="100%">
<tr>
<td align="left">Last modified: 

Monday, 16-Apr-2007 15:23:50 CEST
<br>&copy; <a href="http://www.carto.net/#en_w3">carto<span class="expage">:</span>net</a> (<a href="http://www.carto.net/neumann/">andreas neumann</a> &amp <a href="/andre.mw/">andr&eacute; m. winter</a>)

<br>original URL for reference: http://www.carto.net/papers/svg/gui/selectionlist/index.shtml</td>
<td align="right" valign="top"><a class="expage" href="javascript:location.href='http://del.icio.us/post?v=3&amp;url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title)"><img src="http://images.del.icio.us/static/img/delicious.med.gif" width="16" height="16" align="bottom" alt="del.icio.us"/>&nbsp;Add this page to del.icio.us</a></td>
</tr></table>
</body></html>

